name: learn-github-actions
on: [push]
jobs:
  upload-file:
    if: "!contains(github.event.head_commit.message, 'auto')"
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Build dependencies
        run: |
            pip install requests
            pip install bs4
            pip install datetime
      - name: Webscrape
        run: python dev.py
      - name: Add
        run: git add test.xml
      - name: Configure
        run: git config --global user.email 'kevin0.0zhang@gmail.com'
      - name: Commit
        run: git commit -m artifact-testing-auto
      - name: Push
        run: git push